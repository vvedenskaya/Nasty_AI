<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WASP OS</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

</head>
<body>


    <!-- Ð¥Ð¾Ð»ÑÑ‚ Ð´Ð»Ñ ÑÑ„Ñ„ÐµÐºÑ‚Ð° Ð¼Ð°Ñ‚Ñ€Ð¸Ñ†Ñ‹ -->
    <canvas id="matrix"></canvas>

    <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð´Ð»Ñ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ Ñ‡Ð°Ñ‚Ð° -->
    <div id="chat-container"></div>

    <!-- ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð´Ð»Ñ Ð²Ð²Ð¾Ð´Ð° -->
    <div id="input-container">
        <div id="command-suggestions" class="hidden"></div>
        <div class="input-wrapper">
            <input type="text" id="user-input" placeholder="Type / to see all commands..." required autocomplete="off">
            <input type="submit" value="Send" onclick="sendMessage()">
        </div>
        <button id="new-session-btn" onclick="startNewSession()" title="Start a new conversation session">ðŸ”„ New Session</button>
    </div>

    <div id="response-container"></div>
<!---->

    <!-- Modal for External Content -->
    <div id="modal-overlay" class="hidden">
        <div id="modal-window">
            <div id="modal-header">
                <span id="modal-title">[ EXTERNAL_FEED ]</span>
                <button id="close-modal" onclick="closeModal()">âœ– CLOSE & RETURN TO NASTY AI</button>
            </div>
            <div id="modal-body">
                <iframe id="modal-frame" src=""></iframe>
                <div id="iframe-loading-hint" style="position: absolute; bottom: 10px; left: 10px; color: #0F0; font-size: 0.7em; pointer-events: none;">
                    [SYSTEM]: If content is blocked, use the fallback link in the console...
                </div>
                <div id="iframe-blocked-message" class="hidden">
                    <p>ðŸš¨ ENCRYPTED CONTENT DETECTED ðŸš¨</p>
                    <p>This source is blocking direct injection into NASTY AI.</p>
                    <a id="external-link-fallback" href="#" target="_blank" class="osint-link" style="width: auto; display: inline-block;">Open in External Decryptor</a>
                    <p style="font-size: 0.8em; margin-top: 10px;">(Don't forget to return to the chat after viewing)</p>
                </div>
            </div>
        </div>
    </div>

   
    
<script src="{{ url_for('static', filename='script.js') }}?v=2"></script>
<script type="module">
        import { PowerGlitch } from "https://unpkg.com/powerglitch@latest/dist/powerglitch.min.mjs";

        window.addEventListener('DOMContentLoaded', () => {

            PowerGlitch.glitch('#input-container input[type="submit"]', {
                playMode: 'hover',
                timing: { duration: 1500, iterations: Infinity },
                shake: { velocity: 8, amplitudeX: 0.15, amplitudeY: 0.15 },
                slice: { count: 4, velocity: 10, minHeight: 0.05, maxHeight: 0.1 },
            });
        });
    </script>

</body>
</html>













